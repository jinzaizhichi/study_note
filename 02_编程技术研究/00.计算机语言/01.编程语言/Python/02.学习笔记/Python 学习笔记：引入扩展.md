# Python 学习笔记：引入扩展

在经历了基本语法和标准库的学习之后，相信读者已经初步体验到了 Python 社区所推崇的“优雅、明确、简单”的编码风格，这种风格主要体现了 Python 语言的设计遵循了如下核心准则。

> 优美优于丑陋。明了优于隐晦。  
> 简单优于复杂。复杂优于凌乱。  
> 扁平优于嵌套。稀疏优于稠密。  
> 可读性很重要。

上述设计准则会确保程序员们在使用这门语言时自觉地拒绝花俏的语法，并尽可能地使用明确且没有歧义的表达方式来编写代码。当然了，凡事都有两面性，对于这些准则的坚守也让 Python 社区对于牺牲了优雅特性的优化策略始终持有较为谨慎的态度，这导致许多开发者对 Python 语言的一些非重要部分所做的性能优化，和非核心功能的扩展往往很难被其官方直接纳入到其标准库中，某种程度上也限制这门语言在某些特定领域中的运用。而如果想要在这些特定领域中使用 Python 语言进行开发，我们就必须自己手动引入第三方开发的扩展。

> 关于这些扩展及其应用领域，读者可参考我在之前在《[[学习路线图|Python 学习路线图]]》一文中所提供的介绍。

在基于 Python 编程工作中，引入第三方扩展最简单的方法就是使用一款叫做 pip 的包管理工具。这是一款 Python 官方提供的扩展包下载与管理工具，可用于查找、下载、安装、卸载所有可引入到 Python 应用中的第三方扩展。在本章的最后，我们就来具体介绍一下 pip 的使用方法。

首先要做的是安装 pip 包管理器。事实上，如果读者安装的是 Python 2.7.9 或 Python 3.4 以上版本的运行时环境，那么在该运行时环境被安装的同时就已经安装 pip 这个包管理器了。对此，我们可以通过在终端环境中执行`pip --version`命令来验证它是否可用，如果该命令输出了正常的版本信息，就证明该包管理器已经可以正常使用了。而如果该命令输出的是找不到 pip 之类的错误信息，那么就需要在终端环境中执行以下命令来安装这个包管理器。

```bash
# 先下载安装脚本
curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
# 然后再执行安装脚本
python get-pip.py
```

另外，在部分 Linux 发行版中，我们也可以直接使用操作系统的包管理器来安装 pip，例如在 Ubuntu 系统中，我们只需直接执行`sudo apt install python-pip`命令即可。在确认了 pip 已经被正确安装之后，我们就可以使用这个包管理器来安装并管理 Python 的第三方扩展了，以下是它的一些常用的命令。

- `pip --version`命令：用于查看当前所用 pip 的版本及其安装路径；
- `pip --help`命令：用于获取 pip 的官方帮助信息，这些信息对于初学者是非常有用的；
- `pip config`命令：用于对 pip 本身进行各种配置工作。例如在默认情况下，我们使用该包管理器安装第三方扩展时需要从其官方提供的服务器上下载它们，而该服务器通常位于国外，它的下载速度通常会相对较慢且不稳定，这时候，我们就可以提供执行`pip config set global.index-url [某国内镜像的 URL]`命令将其默认的远程服务器配置成某个指定的国内镜像服务器；
- `pip list`命令：用于列出当前计算机设备中已经安装的第三方扩展；
- `pip search  [扩展包名称]`命令：用于在远程服务器上搜索可用的第三方扩展；
- `pip show [扩展包名称]`命令：用于查看指定第三方扩展的具体信息；
- `pip install [扩展包名称]`命令：用于从远程服务器上下载并安装指定的第三方扩展。该命令默认安装的是最新版本，如果需要安装特定的版本，就需要在安装时指定版本号，例如`pip install Django==1.7`命令安装的就是`1.7`版本的 Django 框架；
- `pip install --upgrade [扩展包名称]`命令：用于更新当前计算机设备中指定的第三方扩展。该命令默认会将扩展包升级到最新版本，如果需要审计到特定的版本，就需要在安装时指定版本号，例如`pip install --upgrade Django==1.8`命令就会将 Django 框架升级到`1.8`的版本；
- `pip uninstall [扩展包名称]`命令：用于从当前计算机设备中删除指定的第三方扩展；

在安装了指定的第三方扩展之后，我们在大多数情况下就可以像使用标准库使用它们了。下面，让我们借助引入并使用`numpy`这个第三方扩展的过程来为读者做一个演示。

1. 在终端环境中执行`pip install numpy`命令将这个名为`numpy`的第三方扩展安装到当前计算机设备中。

2. 待安装过程结束之后，继续在之前创建的`HelloPython`目录下创建一个名为的`exNumpy.py`文件，并在其中输入如下代码。

    ```python
    import numpy;

    # 基于列表对象生成一维数组
    listObj = [1,2,3,4,5,6]
    arr = numpy.array(listObj)
    print("数组中的数据：\n", arr)
    print("数组元素的类型：\n",arr.dtype)

    # 基于列表对象生成二维数组
    listObj = [[1,2],[3,4],[5,6]]
    arr = np.array(listObj)
    print("数组中的数据：\n", arr) 
    print("数组的维度：\n", arr.ndim) 
    print("数组中各维度的长度：\n", arr.shape)  # shape 是一个元组

    arr = np.zeros(6)
    print("创建长度为 6，元素都是 0 的一维数组：\n", arr) 
    arr = np.zeros((2,3)) 
    print("创建 2x3，元素都是 0 的二维数组：\n", arr) 
    arr = np.ones((2,3))
    print("创建 2x3，元素都是 1 的二维数组：\n", arr) 
    arr = np.empty((3,3))
    print("创建 2x3，元素未经初始化的二维数组：\n", arr) 
    ```

3. 在终端环境中进入到`01_HelloPython`目录下，并执行`python exNumpy.py`命令，如果该命令返回如下信息，就证明我们已经成功引入并使用了`numpy`这个第三方扩展。

    ```bash
    数组中的数据：
    [1 2 3 4 5 6]
    数组元素的类型：
    int32
    数组中的数据：
    [[1 2]
    [3 4]
    [5 6]]
    数组的维度：
    2
    数组中各维度的长度：
    (3, 2)
    创建长度为 6，元素都是 0 的一维数组：
    [0. 0. 0. 0. 0. 0.]
    创建 2x3，元素都是 0 的二维数组：
    [[0. 0. 0.]
    [0. 0. 0.]]
    创建 2x3，元素都是 1 的二维数组：
    [[1. 1. 1.]
    [1. 1. 1.]]
    创建 2x3，元素未经初始化的二维数组：
    [[ 0.00000000e+000  0.00000000e+000  0.00000000e+000]
    [ 0.00000000e+000  0.00000000e+000  2.82605549e-321]
    [ 4.53801547e+279 -1.42873560e-101  4.94065646e-324]]
    ```

## 关联笔记索引

### 自动化测试框架

- [[Pytest+Jenkins 学习笔记]]
- [[Robot 框架学习笔记]]
- [[Selenium 学习笔记]]
